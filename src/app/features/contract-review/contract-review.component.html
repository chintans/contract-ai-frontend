<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-6">Contract Review</h1>
  
  <mat-stepper [selectedIndex]="currentStepIndex" [linear]="true" [disableRipple]="true" #stepper>
    <mat-step label="Upload Contract">
      <app-contract-upload (uploadDataChange)="onUploadDataChange($event)"></app-contract-upload>
    </mat-step>
    <mat-step label="Analysis">
      <app-contract-analysis *ngIf="currentStepIndex === 1"></app-contract-analysis>
    </mat-step>
    <mat-step label="Risk Flags">
      <app-risk-flags *ngIf="currentStepIndex === 2"></app-risk-flags>
    </mat-step>
    <mat-step label="Summary">
      <app-contract-summary *ngIf="currentStepIndex === 3"></app-contract-summary>
    </mat-step>
    <mat-step label="Legal Q&A">
      <app-legal-qa *ngIf="currentStepIndex === 4"></app-legal-qa>
    </mat-step>
  </mat-stepper>

  <div class="flex justify-between mt-4">
    <button mat-button (click)="previous()" [disabled]="!hasPrevious()">
      <mat-icon>arrow_back</mat-icon>
      Previous
    </button>
    <button
      mat-raised-button
      color="primary"
      (click)="next()"
      data-cy="next-btn"
      [disabled]="!isCurrentStepValid() || !hasNext()"
    >
      Next
      <mat-icon>arrow_forward</mat-icon>
    </button>
  </div>
  <div *ngIf="stepError()" class="text-red-600 mt-2 text-center">
    {{ stepError() }}
  </div>
</div> 